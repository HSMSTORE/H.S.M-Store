<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>H.S.M Store - Accessories</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Poppins", sans-serif;
      background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
      color: #222;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* --- HEADER --- */
    header {
      padding: 12px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
      position: sticky;
      top: 0;
      z-index: 1000;
      transition: transform 0.3s ease;
    }

    header.hide-header { transform: translateY(-100%); }

    .logo-container { display: flex; align-items: center; text-decoration: none; }
    .main-logo { height: 65px; width: auto; transition: 0.3s; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1)); }
    .main-logo:hover { transform: scale(1.05); }

    .top-controls { display: flex; flex-direction: column; gap: 8px; max-width: 520px; width: 100%; }
    .search-row { display: flex; align-items: center; gap: 10px; }

    .search-wrapper { position: relative; flex: 1; }
    .search-wrapper input {
      width: 100%;
      padding: 10px 15px;
      border-radius: 999px;
      border: 1px solid #ddd;
      outline: none;
      font-size: 0.9rem;
    }
    .search-wrapper input:focus { border-color: #d4af37; box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1); }

    .music-toggle-btn {
      background: #eee; border: none; width: 38px; height: 38px; border-radius: 50%;
      cursor: pointer; display: flex; align-items: center; justify-content: center;
      font-size: 1.2rem;
    }

    .categories { display: flex; flex-wrap: wrap; gap: 5px; }
    .category-btn {
      border: none; background: #f0f0f0; padding: 5px 12px; border-radius: 999px;
      font-size: 0.75rem; cursor: pointer; transition: 0.2s;
    }
    .category-btn.active { background: #222; color: #fff; }

    /* --- MOVING STRIP (MARQUEE) --- */
    .marquee-container {
      background: #1a1a1a;
      padding: 15px 0;
      margin-bottom: 25px;
      overflow: hidden;
      display: flex;
      white-space: nowrap;
      border-bottom: 2px solid #d4af37;
    }

    .marquee-content {
      display: flex;
      animation: scroll 40s linear infinite;
    }

    .marquee-item {
      display: flex;
      align-items: center;
      gap: 12px;
      background: #fff;
      margin: 0 15px;
      padding: 6px 18px;
      border-radius: 50px;
      color: #222;
      font-weight: 600;
      font-size: 0.8rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    .marquee-item img { width: 35px; height: 35px; border-radius: 50%; object-fit: cover; border: 1px solid #ddd; }

    @keyframes scroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    /* --- PRODUCT GRID --- */
    main { padding: 20px 15px; max-width: 1100px; margin: 0 auto; }
    .section-title { font-size: 1.1rem; letter-spacing: 2px; text-align: center; margin-bottom: 20px; text-transform: uppercase; font-weight: 600; }

    .products-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .product-card {
      background: #fff; border-radius: 12px; overflow: hidden;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05); display: flex; flex-direction: column;
      text-decoration: none; color: inherit; position: relative;
      transition: transform 0.2s;
    }

    .product-card:hover { transform: translateY(-5px); }

    .sale-tag {
      position: absolute; top: 10px; right: 10px; background: #e63946;
      color: #fff; font-size: 0.65rem; font-weight: bold; padding: 4px 10px;
      border-radius: 6px; z-index: 5; box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    .product-image-wrapper { padding-top: 100%; position: relative; background: #fff; }
    .product-image-wrapper img { position: absolute; top:0; left:0; width:100%; height:100%; object-fit: contain; }

    .product-body { padding: 12px; flex: 1; display: flex; flex-direction: column; gap: 6px; }
    .product-title { font-size: 0.85rem; font-weight: 600; height: 2.4em; overflow: hidden; line-height: 1.2; }
    .product-price { font-size: 1rem; font-weight: 600; color: #b8860b; }
    
    .view-btn { margin-top: auto; background: #222; color: #fff; border: none; padding: 8px; border-radius: 8px; font-size: 0.75rem; cursor: pointer; }

    footer { text-align: center; padding: 40px 0; font-size: 0.75rem; color: #888; background: #fff; margin-top: 40px; border-top: 1px solid #eee; }

    /* Mobile Logic */
    @media (max-width: 640px) {
      header { flex-direction: column; gap: 15px; padding: 15px; }
      .main-logo { height: 55px; }
      .products-grid { gap: 10px; }
      .product-title { font-size: 0.8rem; }
    }
  </style>
</head>
<body>

  <audio id="bgMusic" loop>
    <source src="Love Story.mp3" type="audio/mpeg" />
  </audio>

  <header id="mainHeader">
    <a href="#" class="logo-container">
      <img src="hsmlogo.jpg" alt="H.S.M Store Logo" class="main-logo" />
    </a>
    <div class="top-controls">
      <div class="search-row">
        <div class="search-wrapper">
          <input type="text" id="searchInput" placeholder="Search for accessories..." />
        </div>
        <button id="musicToggle" class="music-toggle-btn"><span id="musicIcon">ðŸ”‡</span></button>
      </div>
      <div class="categories" id="categoryButtons">
        <button class="category-btn active" data-category="All">All</button>
        <button class="category-btn" data-category="Necklace">Necklace</button>
        <button class="category-btn" data-category="Ring">Ring</button>
        <button class="category-btn" data-category="Bracelet">Bracelet</button>
        <button class="category-btn" data-category="Hand Chain">Hand Chain</button>
        <button class="category-btn" data-category="Earrings">Earrings</button>
        <button class="category-btn" data-category="Bundles">Bundles</button>
      </div>
    </div>
  </header>

  <div class="marquee-container" id="movingStrip">
    <div class="marquee-content" id="marqueeList">
      </div>
  </div>

  <main>
    <h2 class="section-title">Exclusive Collection</h2>
    <div id="productsContainer" class="products-grid"></div>
    <div id="noResults" style="display:none; text-align:center; padding:50px; color:#666;">No items found matching your search.</div>
  </main>

  <footer>
    <p>Â© 2026 H.S.M Store â€“ Luxury Accessories</p>
  </footer>

  <script>
    // --- MUSIC LOGIC ---
    const music = document.getElementById("bgMusic");
    const musicBtn = document.getElementById("musicToggle");
    const musicIcon = document.getElementById("musicIcon");

    // Play music on any user interaction (tabs, buttons, cards)
    function handleAutoPlay() {
      if (music.paused && !music.dataset.manuallyPaused) {
        music.play().then(() => {
          musicIcon.innerText = "ðŸ”Š";
        }).catch(() => {});
      }
    }

    document.addEventListener('click', handleAutoPlay);

    musicBtn.addEventListener("click", (e) => {
      e.stopPropagation();
      if (music.paused) {
        music.play();
        musicIcon.innerText = "ðŸ”Š";
        delete music.dataset.manuallyPaused;
      } else {
        music.pause();
        musicIcon.innerText = "ðŸ”‡";
        music.dataset.manuallyPaused = "true";
      }
    });

    // --- PRODUCTS DATA ---
    const products = [
      { id: "heart-bundle", name: "Eternal Heart Bundle", category: "Bundles", price: 380, image: "Images/heart-bundle .jpeg", sale: true },
      { id: "double-bundle", name: "Glistening Square Bundle", category: "Bundles", price: 450, image: "Images/double-bundle.jpeg", sale: true },
      { id: "first-bundle", name: "Classic Gift Set Bundle", category: "Bundles", price: 500, image: "Images/first-bundle.jpeg" },
      { id: "golden-rose-necklace", name: "Vintage Golden Rose Necklace", category: "Necklace", price: 280, image: "Images/golden-rose-necklace.jpeg" },
      { id: "one-letter-necklace", name: "Arabic Calligraphy Letter Necklace", category: "Necklace", price: 280, image: "Images/one-letter-necklace.jpeg" },
      { id: "another-butterfly-necklace", name: "Butterfly Necklace", category: "Necklace", price: 250, image: "Images/another-butterfly-necklace 1.jpeg" },
      { id: "butterfly-necklase", name: "Butterfly Necklase", category: "Necklace", price: 250, image: "Images/Butterfly Necklase 1.jpeg" },
      { id: "clover-necklace", name: "Clover Necklace", category: "Necklace", price: 250, image: "Images/Clover Necklace 1.jpeg" },
      { id: "coin-necklace", name: "Coin Necklace", category: "Necklace", price: 250, image: "Images/Coin Necklace 1.jpeg" },
      { id: "colord-heart-necklace", name: "Colored Heart Necklace", category: "Necklace", price: 250, image: "Images/Colord Heart Necklace 1.jpeg" },
      { id: "letter-necklace", name: "Letter Necklace", category: "Necklace", price: 280, image: "Images/Letter Necklace 1.jpeg" },
      { id: "Flower-necklace", name: "Flower Necklace", category: "Necklace", price: 280, image: "Images/Loly Flower Necklace.jpeg" },
      { id: "palstine-necklace", name: "Palstine Necklace", category: "Necklace", price: 200, image: "Images/Palstine Necklace .jpeg" },
      { id: "tree-necklass", name: "Tree Necklass", category: "Necklace", price: 280, image: "Images/Tree Necklass 1.jpeg" },
      { id: "normal-braclet", name: "Thin Cuff Bracelet", category: "Bracelet", price: 280, image: "Images/Normal Braclet .jpeg" },
      { id: "ayah-el-korsy-braclet", name: "Ayah El Korsy Braclet", category: "Bracelet", price: 250, image: "Images/ayah el korsy braclet.jpeg" },
      { id: "coin-braclet", name: "Coin Braclet", category: "Bracelet", price: 200, image: "Images/Coin Braclet 1.jpeg" },
      { id: "couples-braclet", name: "Couples Braclet", category: "Bracelet", price: 250, image: "Images/Couples Braclet .jpeg" },
      { id: "heart-braclet", name: "Heart Braclet", category: "Bracelet", price: 200, image: "Images/Heart Braclet 2.jpeg" },
      { id: "second-normal-braclet", name: "Thick Cuff Bracelet", category: "Bracelet", price: 150, image: "Images/Second Normal Braclet 1.jpeg" },
      { id: "butterfly-earrings", name: "Butterfly Earrings", category: "Earrings", price: 150, image: "Images/Butterfly Earrings 1.jpeg" },
      { id: "colord-heart-earrings", name: "Colored Heart Earrings", category: "Earrings", price: 150, image: "Images/Colord Heart earrings 1.jpeg" },
      { id: "butterfly-hand-chain", name: "Butterfly Hand Chain", category: "Hand Chain", price: 200, image: "Images/Butterfly Hand Chain 1 .jpeg" },
      { id: "simple-handchain", name: "Simple Hand Chain", category: "Hand Chain", price: 200, image: "Images/simple-handchain.jpeg" },
      { id: "first-rings", name: "Heart Rings", category: "Ring", price: 150, image: "Images/First Rings .jpeg" },
      { id: "second-rings", name: "Mixed Shape Rings Set", category: "Ring", price: 100, image: "Images/Second Rings .jpeg" }
    ];

    const container = document.getElementById("productsContainer");
    const strip = document.getElementById("movingStrip");
    const marqueeList = document.getElementById("marqueeList");
    let activeCat = "All";

    // --- RENDER MARQUEE STRIP ---
    function buildMarquee() {
      // Pick 8 random products to show in the strip
      const marqueeItems = [...products].sort(() => 0.5 - Math.random()).slice(0, 8);
      const content = marqueeItems.map(p => `
        <div class="marquee-item">
          <img src="${p.image}" alt="">
          <span>${p.name}</span>
        </div>
      `).join('');
      // Repeat content to ensure seamless loop
      marqueeList.innerHTML = content + content + content;
    }

    // --- RENDER PRODUCT GRID ---
    function render() {
      const term = document.getElementById("searchInput").value.toLowerCase();
      container.innerHTML = "";
      
      // Only show the moving strip when 'All' is selected
      strip.style.display = (activeCat === "All" && term === "") ? "flex" : "none";

      const filtered = products.filter(p => (activeCat === "All" || p.category === activeCat) && p.name.toLowerCase().includes(term));
      document.getElementById("noResults").style.display = filtered.length ? "none" : "block";

      filtered.forEach(p => {
        const card = document.createElement("a");
        card.className = "product-card";
        card.href = p.id + ".html";
        card.innerHTML = `
          ${p.sale ? '<div class="sale-tag">SALE</div>' : ''}
          <div class="product-image-wrapper"><img src="${p.image}"></div>
          <div class="product-body">
            <div class="product-title">${p.name}</div>
            <div class="product-price">${p.price} L.E</div>
            <button class="view-btn">View Details</button>
          </div>
        `;
        container.appendChild(card);
      });
    }

    // Category Switching
    document.querySelectorAll(".category-btn").forEach(b => b.addEventListener("click", () => {
      document.querySelectorAll(".category-btn").forEach(x => x.classList.remove("active"));
      b.classList.add("active");
      activeCat = b.dataset.category;
      render();
    }));

    document.getElementById("searchInput").addEventListener("input", render);
    
    // Initial Load
    buildMarquee();
    render();

    // Header scroll effect
    let lastScrollY = window.scrollY;
    window.addEventListener("scroll", () => {
      const header = document.getElementById("mainHeader");
      if (window.scrollY > lastScrollY && window.scrollY > 100) header.classList.add("hide-header");
      else header.classList.remove("hide-header");
      lastScrollY = window.scrollY;
    });
  </script>
</body>
</html>
